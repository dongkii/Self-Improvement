# 08. Index

- 인덱스는 테이버베이스 쿼리의 성능을 언급하면서 빼놓을 수 없는 부분
- 각 인덱스의 특성과 차이는 상당히 중요하며, 물리 수준의 모델링을 할 때도 중요한 요소가 될 것이다.
- 인덱스는 쿼리 튜닝의 기본이 된다.

<br/>

## **목차**
- [8.1.1 하드 디스크 드라이브(HDD)와 솔리드 스테이트 드라이브(SDD)](#1)
- [8.1.2 랜덤 I/O와 순차 I/O](#2)
- [8.1.3](#3)

<br/>

# **`8.1 디스크 읽기 방식`**
- `데이터베이스의 성능 튜닝은 어떻게 디스크 I/O를 줄이느냐가 관건`이다.

<br/>

## **`8.1.1 하드 디스크 드라이브(HDD)와 솔리드 스테이트 드라이브(SSD)`**<a id="1"></a>
- 컴퓨터에서 CPU나 메모리 같은 주요 장치는 대부분 전자식 장치지만 하드 디스크 드라이브는 기계식 장치이다.  
그래서 데이터베이스 서버에서는 항상 디스크 장치가 병목이 된다.

- SSD는 기존 하드 디스크 드라이브에서 데이터 저장용 플래터(원판)을 제거하고 그 대신 플래시 메모리를 장착하고 있다.  
디스크 원판을 기계적으로 회전시킬 필요가 없으므로 아주 빨리 데이터를 읽고 쓸 수 있다.

- 디스크의 헤더를 움직이지 않고 한 번에 많은 데이터를 읽는 순차 I/O에서는 SSD가 HDD보다 조금 빠르거나 거의 비슷한 성능을 보이기도 한다.  
하지만 `SSD의 장점은 기존 HDD보다 랜덤 I/O가 훨씬 빠르다는 것`이다.
    - 데이터베이스 서버에서 순차 I/O 작업의 비중은 크지 않고 대부분이 랜덤 I/O를 통해 데이터를 읽고 쓰는 작업

<br/>

## **`8.1.2 랜덤 I/O와 순차 I/O`**<a id="2"></a>
- 랜덤 I/O라는 표현은 HDD의 플래터(원판)를 돌려서 읽어야 할 데이터가 저장된 위치로 디스크 헤더를 이동시킨 다음 데이터를 읽는 것을 의미이며 순차 I/O 또한 이 작업 과정은 같다.

- 순차 I/O는 3개의 페이지(3x16KB)를 디스크에 기록하기 위해 1번 시스템 콜을 요쳥했지만,  
랜덤 I/O는 3개의 페이지를 디스크에 기록하기 위해 3번 시스템 콜을 요청했다.

- 디스크에 데이터를 쓰고 읽는 데 걸리는 시간은 디스크 헤더를 움직여서 읽고 쓸 위치로 옮기는 단계에서 결정된다.  
그래서 여러번 쓰기 또는 읽기를 요청하는 랜덤 I/O 작업이 작업 부하가 훨씬 더 크다.

```
인덱스 레인지 스캔은 데이터를 읽기 위해 주로 랜덤 I/O를 사용하며, 풀 테이블 스캔은 순차 I/O를 사용한다. 그래서 큰 테이블의 레코드 대부분을 읽는 작업에서는 인덱스를 사용하지 않고 풀 테이블 스캔을 사용하도록 유도할 때도 있다. 이는 순차 I/O가 랜덤 I/O보다 훨씬 빨리 많은 레코드를 읽어올 수 있기 때문인데, 이런 형태는 OLTP(On-Line Transaction Processing) 성격의 웹 서비스보다는 데이터 웨어하우스나 통계 작업에서 자주 사용된다.
```