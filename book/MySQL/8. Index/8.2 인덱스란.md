# 08. Index

- 인덱스는 테이버베이스 쿼리의 성능을 언급하면서 빼놓을 수 없는 부분
- 각 인덱스의 특성과 차이는 상당히 중요하며, 물리 수준의 모델링을 할 때도 중요한 요소가 될 것이다.
- 인덱스는 쿼리 튜닝의 기본이 된다.

<br/>

# **`8.2 인덱스란?`**
- DBMS에서 데이터베이스 테이블의 모든 데이터를 검색해서 원하는 결과를 가져오려면 시간이 오래 걸린다.  
그래서 컬럼의 값과 해당 레코드가 저장된 주소를 키와 값의 쌍으로 삼아 인덱스를 만들어 두는 것이다.

### **`인덱스의 효과`**
DBMS의 인덱스는 칼럼의 값을 주어진 순서로 미리 정렬해서 보관한다.
- 프로그래밍 언어의 자료구조로 비교하면 데이터 파일 : ArrayList, 인덱스 : SortedList 라고 할 수 있다.
- SortedList 자료구조는 데이터가 저장될 때마다 항상 값을 정렬해야 하므로 저장하는 과정이 복잡하고 느리지만, 이미 정렬돼 있어서 아주 빨리 원하는 값을 찾아올 수 있다.
- 이처럼 인덱스란 색인으로, INSERT, UPDATE, DELETE의 데이터 저장 성능을 희생하고 데이터의 읽기 속도를 높이는 기능이다.

<br/>

### **`인덱스의 분류`**
- 프라이머리 키(Primary Key)
    - 레코드를 대표하는 칼럼의 값으로 만들어진 인덱스
    - NULL 값을 허용하지 않으며 중복을 허용하지 않는 특징

<br/>

- 보조 키(세컨더리 인덱스, Secondary key)
    - 유니크 인덱스
    - 유니크하지 않은 인덱스

<br/>

### **`인덱스 알고리즘의 종류`**
상당히 많은 알고리즘이 존재하지만 대표적으로 B-Tree 인덱스와 Hash 인덱스로 구분할 수 있다.

**B-Tree 알고리즘**
- 가장 일반적으로 사용되는 인덱스 알고리즘
- 칼럼의 값을 변형하지 않고 원래의 값을 이용해 인덱싱하는 알고리즘
- MySQL 서버에서는 위치 기반 검색을 지원하기 위해 R-Tree 알고리즘도 있지만, 결국 R-Tree 인덱스는 B-Tree의 응용 알고리즘으로 볼 수 있다.

<br/>

**Hash 인덱스 알고리즘**
- 칼럼의 값으로 해시값을 계산해서 인덱싱하는 알고리즘으로, 매우 빠른 검색을 지원한다.
- 값을 변형해서 인덱싱하므로 전방(Prefix) 일치와 같이 값의 일부만 검색하거나 범위를 계산할 때는 해시 인덱스를 사용할 수 없다.
- 주로 메모리 기반의 데이터베이스에서 많이 사용한다.
